{"ast":null,"code":"import React,{useState}from'react';import'./App.css';// Optional for styling\nimport Seats from'./seats';import axios from'axios';import{useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{const[selectedSeats,setSelectedSeats]=useState(1);const[message,setMessage]=useState('');const[showMessage,setShowMessage]=useState(false);const[messageType,setMessageType]=useState('');// 'success' or 'error'\nconst[bookTicketLayout,setBookTicketLayout]=useState({bookSeats:[],seats:[]});const bookSeats=()=>{try{axios.get(`http://localhost:3000/api/book-ticket/${selectedSeats}`).then(response=>{if(response.data.success==false){setTimeout(()=>{setMessage('');setShowMessage(false);},3000);setMessage(response.data.message);setMessageType('error');setShowMessage(true);return;}setBookTicketLayout({bookSeats:response.data.data.bookSeats,seats:response.data.data.seats});});}catch(error){}};const initializeBookSeat=()=>{try{axios.get(`http://localhost:3000/api/seats`).then(response=>{setBookTicketLayout({bookSeats:[],seats:response.data.data});});}catch(error){}};const resetDatabase=()=>{axios.get(`http://localhost:3000/api/reset-db`).then(response=>{setBookTicketLayout({bookSeats:[],seats:response.data.data});});};useEffect(()=>{initializeBookSeat();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Seats,{bookTicketLayout:bookTicketLayout,resetDatabase:resetDatabase}),/*#__PURE__*/_jsxs(\"div\",{className:\"overlay\",children:[showMessage&&/*#__PURE__*/_jsx(\"div\",{className:`message ${messageType}`,children:message}),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"How Many Seats?\"}),/*#__PURE__*/_jsx(SeatSelector,{selectedSeats:selectedSeats,setSelectedSeats:setSelectedSeats}),/*#__PURE__*/_jsx(\"div\",{className:\"button-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"select-seats-button green\",onClick:bookSeats,children:\"Select Seats\"})})]})]})]});};// SeatSelector Component\nconst SeatSelector=_ref=>{let{selectedSeats,setSelectedSeats}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"seat-selector\",children:[...Array(7)].map((_,index)=>/*#__PURE__*/_jsx(\"div\",{className:`seat-option ${selectedSeats===index+1?'selected':''}`,onClick:()=>setSelectedSeats(index+1),children:index+1},index))});};export default App;","map":{"version":3,"names":["React","useState","Seats","axios","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","selectedSeats","setSelectedSeats","message","setMessage","showMessage","setShowMessage","messageType","setMessageType","bookTicketLayout","setBookTicketLayout","bookSeats","seats","get","then","response","data","success","setTimeout","error","initializeBookSeat","resetDatabase","children","className","SeatSelector","onClick","_ref","Array","map","_","index"],"sources":["/Users/aadilraza/Documents/project/train-assessment/frontent-client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './App.css'; // Optional for styling\nimport Seats from './seats';\nimport axios from 'axios';\nimport { useEffect } from 'react';\n\nconst App = () => {\n  const [selectedSeats, setSelectedSeats] = useState(1);\n  const [message, setMessage] = useState('');\n  const [showMessage, setShowMessage] = useState(false);\n  const [messageType, setMessageType] = useState('');  // 'success' or 'error'\n  const [bookTicketLayout, setBookTicketLayout] = useState({\n    bookSeats: [], seats: []})\n\n  const bookSeats = () => {\n    try {\n      axios.get(`http://localhost:3000/api/book-ticket/${selectedSeats}`).then((response) => {\n        if (response.data.success == false) {\n          setTimeout(() => {\n            setMessage('')\n            setShowMessage(false);\n          }, 3000);\n          setMessage(response.data.message)\n          setMessageType('error');\n          setShowMessage(true);\n          return\n        }\n\n        setBookTicketLayout({\n          bookSeats: response.data.data.bookSeats, seats: response.data.data.seats\n        })\n      })\n    } catch (error) {\n\n    }\n  };\n  const initializeBookSeat = () => {\n    try {\n      axios.get(`http://localhost:3000/api/seats`).then((response) => {\n\n        setBookTicketLayout({\n          bookSeats: [], seats: response.data.data\n        })\n      })\n    } catch (error) {\n\n    }\n  }\n\n  const resetDatabase = () => {\n    axios.get(`http://localhost:3000/api/reset-db`).then((response) => {\n      setBookTicketLayout({\n        bookSeats: [], seats: response.data.data\n      })\n    })\n  }\n\n  useEffect(() => {\n    initializeBookSeat()\n  }, [])\n  return (\n    <>\n      <Seats bookTicketLayout={bookTicketLayout} resetDatabase={resetDatabase}/>\n      <div className=\"overlay\">\n      {showMessage && (\n        <div className={`message ${messageType}`}>\n          {message}\n        </div>\n      )}\n        <div className=\"cart-container\">\n          <h2>How Many Seats?</h2>\n\n          {/* Seat Component */}\n          <SeatSelector selectedSeats={selectedSeats} setSelectedSeats={setSelectedSeats} />\n\n          {/* Select Seats button */}\n          <div className=\"button-container\">\n            <button className=\"select-seats-button green\" onClick={bookSeats}>Select Seats</button>\n          </div>\n        </div>\n\n      </div>\n\n    </>\n  );\n};\n\n// SeatSelector Component\nconst SeatSelector = ({ selectedSeats, setSelectedSeats }) => {\n  return (\n    <div className=\"seat-selector\">\n      {[...Array(7)].map((_, index) => (\n        <div\n          key={index}\n          className={`seat-option ${selectedSeats === index + 1 ? 'selected' : ''}`}\n          onClick={() => setSelectedSeats(index + 1)}\n        >\n          {index + 1}\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}